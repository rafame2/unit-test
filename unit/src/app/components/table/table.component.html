<div class="mat-elevation-z8">
  <div class="example-container">
      <table mat-table [dataSource]="dataSource" matSort >
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header > id </th>
          <td mat-cell *matCellDef="let element"> {{element.id}} </td>
        </ng-container>
    
        <ng-container matColumnDef="title">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> title </th>
          <td mat-cell *matCellDef="let element"> {{element.title}} </td>
        </ng-container>
    
        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> description </th>
          <td mat-cell *matCellDef="let element"> {{element.description}} </td>
        </ng-container>
    
        <ng-container matColumnDef="slug">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> slug </th>
          <td mat-cell *matCellDef="let element"> {{element.slug}} </td>
        </ng-container>
  
        <ng-container matColumnDef="parent">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> parent </th>
          <td mat-cell *matCellDef="let element"> {{element.parent ? element.parent.id : ' '  }} </td>
        </ng-container>
    
        <ng-container matColumnDef="actions" stickyEnd>
          <th mat-header-cell *matHeaderCellDef> actions </th>
          <td mat-cell *matCellDef="let element">  
              <div class="example-button-container">
                  <button mat-icon-button (click)="openDialogEdit(element)">
                      <mat-icon>edit</mat-icon>
                  </button>
                  
                  <button mat-icon-button (click)="openDialogCancel(element.id)" color="warn">
                      <mat-icon>delete</mat-icon>
                  </button>
                </div>
          </td>
        </ng-container>
  
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    
  </div>
  <mat-paginator [pageSizeOptions]="[10, 20]" showFirstLastButtons></mat-paginator>
</div>


<ng-template #dialogCancel>
  <h1 mat-dialog-title>Delete Item</h1>
  <div mat-dialog-content>
      <p>Are you sure you want cancel?</p>
  </div>
  <div mat-dialog-actions>
      <button mat-button mat-dialog-close cdkFocusInitial>No Thanks</button>
      <button mat-button [mat-dialog-close]="true" color="warn">Yes, I'm sure </button>
  </div>
</ng-template>

<ng-template #dialogEdit>
  <h1 mat-dialog-title>Edit Element</h1>
  <div mat-dialog-content>
    <form class="example-form">  
      <p>
        <mat-form-field appearance="fill" aria-disabled="">
          <mat-label>Id</mat-label>
          <input matInput disabled value="{{element.id}}">
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="fill">
          <mat-label>Title</mat-label>
          <input matInput [value]="element.title" [(ngModel)]="element.title" name="title">
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="fill">
          <mat-label>Description</mat-label>
          <input matInput [value]="element.description" [(ngModel)]="element.description" name="description">
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="fill">
          <mat-label>Slug</mat-label>
          <input matInput [value]="element.slug" [(ngModel)]="element.slug" name="slug">
        </mat-form-field>
      </p>
      <p>
        <mat-form-field appearance="fill">
          <mat-label>Parent Id</mat-label>
          <input matInput [value]="element.parent ? element.parent.id : ''"  [(ngModel)]="element.parent" name="parent">
        </mat-form-field>
      </p>
    </form> 
  </div>
  <div mat-dialog-actions>
      <button mat-button mat-dialog-close>Cancel</button>
      <button mat-button [mat-dialog-close]="element" cdkFocusInitial>Edit</button>
  </div>
</ng-template>